"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39920],{85966:function(e,n,t){t.d(n,{H:function(){return r}});var i=t(15873),r=(0,t(12281).g)(i.ZP)},39514:function(e,n,t){t.d(n,{l:function(){return r}});var i=t(25237),r=t.n(i)()(function(){return t.e(73046).then(t.bind(t,73046)).then(function(e){return e.DrawerStatusMessage})},{loadableGenerated:{webpack:function(){return[73046]}},ssr:!1})},4737:function(e,n,t){t.d(n,{C7:function(){return o},ZZ:function(){return u},fu:function(){return l},ik:function(){return a},tx:function(){return c}});var i,r=t(47842),s=t(27739),o="LICENSING",a="LOADING",u="PURCHASING",c="none",l=(i={},(0,r.Z)(i,s.KQ,2),(0,r.Z)(i,s.bP,5),(0,r.Z)(i,s.me,30),(0,r.Z)(i,s.xY,125),(0,r.Z)(i,s.SD,250),i)},97834:function(e,n,t){t.d(n,{T:function(){return z}});var i=t(70865),r=t(96670),s=t(87394),o=t(27739),a=t(44699),u=t(74500),c=t(60591),l=t(97637),d=t(58185),m=t(20096),f=t(65229),v=function(e){var n=e.eligibility,t=void 0===n?{}:n,i=t.licenses,r=t.subscriptions;return!(0,f.R)({licenses:void 0===i?[]:i})&&!(0,m.z)({subscriptions:void 0===r?[]:r})},b=t(97376),y=function(e){var n=e.eligibility,t=void 0===n?{}:n,i=t.licenses,r=t.subscriptions,s=e.selectedProductLicenseType;return!(0,b.V)({licenses:void 0===i?[]:i,selectedProductLicenseType:s})&&(0,m.z)({subscriptions:void 0===r?[]:r})},h=t(87414),p=t(95775),g=t(12649),S=t(2784),F=t(4737),P=t(31175),z=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.asset,m=n.products,f=n.setLicenseDrawerState,z=n.setLicenseDrawerStatus,w=void 0===z?function(){}:z,L=(0,g.B)(),D=(0,S.useMemo)(function(){return(0,P.cz)(t)},[t]),x=(0,s.Z)((0,S.useState)(null==D?void 0:D[0]),2),T=x[0],Z=x[1],E=(0,s.Z)((0,S.useState)(),2),_=E[0],C=E[1],I=(0,s.Z)((0,S.useState)({}),2),N=I[0],M=I[1],H=(0,s.Z)((0,S.useState)({}),2),k=H[0],R=H[1],A=(0,s.Z)((0,S.useState)("on"),2),O=A[0],B=A[1],U=(0,s.Z)((0,S.useState)({selectedShadowsOption:O,format:null==T?void 0:T.format}),2),K=U[0],G=U[1],V=(0,p.IP)({assets:[t]}),W=V.data,j=void 0===W?{}:W,X=V.error,Y=(0,p.IP)({assets:[t],licenseName:null==_?void 0:_.license}),Q=Y.data,$=Y.error||X;L||(j={subscriptions:[]},Q={});var q=(Q||{}).subscriptions,J=void 0===q?[]:q,ee=(null==Q?void 0:null===(e=Q.licenses)||void 0===e?void 0:e.length)>0,en=(0,S.useMemo)(function(){return(0,h.OG)({product:N})},[N]),et=(0,S.useMemo)(function(){return(0,h.XD)({name:null==_?void 0:_.name})},[_]),ei=!$&&void 0===Q||void 0===m,er=!ei&&(0,l.Y)({eligibility:Q,selectedProductLicenseType:_,selectedPaymentPlan:N}),es=(0,S.useMemo)(function(){return(0,d.r)({eligibility:Q,enhancedLicenseType:c.HS,selectedProductLicenseType:_})},[Q,_]),eo=(0,S.useMemo)(function(){return!et&&es},[et,es]),ea=(0,S.useMemo)(function(){return et&&es},[et,es]),eu=(0,S.useMemo)(function(){return v({eligibility:Q})},[Q]),ec=(0,S.useMemo)(function(){return y({eligibility:Q,selectedProductLicenseType:_})},[Q,_]),el=(0,S.useMemo)(function(){return ei?F.ik:er||eo||ea?F.ZZ:F.C7},[ei,eo,ea,er]),ed=(0,S.useMemo)(function(){var e;return null!=Q&&null!==(e=Q.licenses)&&void 0!==e&&!!e.some(function(e){return e.licenseName===o.PS})&&(null==_?void 0:_.license)===c.ur||(0,b.V)({licenses:null==Q?void 0:Q.licenses,selectedProductLicenseType:_})},[null==Q?void 0:Q.licenses,_]),em=(0,S.useMemo)(function(){if(ed)return{paymentPlans:[],showPaymentPlanSelect:!1};var e=J;return(null==_?void 0:_.license)===c.ur&&(e=J.filter(function(e){return e.license===c.ur})),(null==_?void 0:_.license)===c.HS&&(e=J.filter(function(e){var n=e.license,t=e.isEligibleForDownload;return n===c.HS&&t})),{paymentPlans:e.map(function(e){return(0,r.Z)((0,i.Z)({},e),{isDisabled:!e.isEligibleForDownload})}),paymentPlansForCreditCostCalculation:J,showPaymentPlanSelect:!ei&&!!e.length}},[ed,ei,null==_?void 0:_.license,J]),ef=em.paymentPlans,ev=em.paymentPlansForCreditCostCalculation,eb=em.showPaymentPlanSelect,ey=(0,S.useMemo)(function(){return(0,P.H4)(j)},[j]);return(0,S.useEffect)(function(){if(Q&&!$){var e=(null==_?void 0:_.license)===c.ur?ef.find(function(e){var n=e.isDisabled,t=e.activityTracking,i=e.license;return!n&&!(t===o.bk&&i===c.HS)}):ef.find(function(e){return!e.isDisabled});e||(e=(0,s.Z)(ef,1)[0]),M(e)}},[Q,$,ef,null==_?void 0:_.license,M]),(0,S.useEffect)(function(){$&&!Q?w({status:a.pn,error:u.R}):w({status:"",error:void 0})},[$,Q,w]),(0,S.useEffect)(function(){return f({assetId:t.id,selectedImageSize:T,selectedPaymentPlan:N,selectedProductLicenseType:_,selectedProductToBuy:k})},[t.id,T,N,_,k,f]),(0,S.useEffect)(function(){if(T){var e=(T||{}).format;if((null==K?void 0:K.format)!==e)switch(e){case"png":B(null==K?void 0:K.selectedShadowsOption),G({selectedShadowsOption:O,format:e});break;case"psd":G({selectedShadowsOption:O,format:e}),B("off")}}},[T,O,K]),{selectedImageSize:T,selectedProductLicenseType:_,selectedPaymentPlan:N,selectedProductToBuy:k,selectedShadowsOption:O,setSelectedImageSize:Z,setSelectedProductLicenseType:C,setSelectedPaymentPlan:M,setSelectedProductToBuy:R,setSelectedShadowsOption:B,eligibility:Q,eligibilityError:$,allSizesAssetEligibility:j,formattedImageSizes:D,paymentPlans:ef,paymentPlansForCreditCostCalculation:ev,showAddToCartButton:ea,showBuyAndDownloadButton:eo,showGetAnotherPlanButton:eu,showDownloadButton:ec,showProductsToPurchase:er,showPaymentPlanSelect:eb,isLoadingData:ei,isRedownloadFlow:ee,isFlexProduct:en,hasLegacyMultiShareSubscription:ey,hasExistingLicenseForSelectedLicenseType:ed,drawerState:el}}},96495:function(e,n,t){t.d(n,{T:function(){return s}});var i=t(68052),r=t(59877),s=function(){var e=(0,r.$G)(i.AH),n=e.t,t=e.ready;return{labels:{alreadyLicensed:n("already_licensed_item"),alreadyLicensedInStandard:n("already_downloaded_under_standard_license"),alreadyLicensedInStandardButCanLicenseInEnhanced:n("already_downloaded_under_standard_license_redownload_or_license"),assetSizeFormat:n("image_size_and_format"),errorMessage:n("notifications:label_generic_failure"),licenseType:n("license_type"),cancel:n("common:actions_cancel"),sizeGuide:n("feature-image-resizer:size_guide"),downloadLimitWarning:n("download_limit_warning"),viewAllImagePlans:n("view_all_image_plans"),offsetPurchaseDisclaimer:n("offset_purchase_disclaimer")},ready:t}}},31175:function(e,n,t){t.d(n,{H4:function(){return y},cG:function(){return v},cz:function(){return b}});var i=t(47842),r=t(70865),s=t(96670),o=t(27739),a=t(60591),u=t(87646),c=t(34293),l=t(87414),d=t(37546),m=t(68769),f=t(2784),v=function(e){var n=e.allSizesAssetEligibility,t=e.selectedProductLicenseType,o=e.isFlexProduct,d=e.isOffsetAsset,m=e.paymentPlansForCreditCostCalculation,v=(null==t?void 0:t.license)===a.ur,b=(null==t?void 0:t.license)===a.HS,y=(0,f.useMemo)(function(){return(0,u.V)({eligibility:n,licenseTypes:[a.ur,a.HS]})},[n]),h=y.ownsStandardLicense,p=y.ownsEnhancedLicense,g=(0,f.useMemo)(function(){return{hasEligibleSubscriptionForEnhancedLicense:(0,c.i)({subscriptions:null==n?void 0:n.subscriptions,licenseName:a.HS}),hasEligibleSubscriptionForStandardLicense:(0,c.i)({subscriptions:null==n?void 0:n.subscriptions,licenseName:a.ur})}},[n]),S=g.hasEligibleSubscriptionForEnhancedLicense,F=g.hasEligibleSubscriptionForStandardLicense,P=(0,f.useMemo)(function(){var e;return o?(e={},(0,i.Z)(e,a.ur,(0,l.Kg)({paymentPlans:m,licenseType:a.ur,selectedPaymentPlan:null})),(0,i.Z)(e,a.HS,(0,l.Kg)({paymentPlans:m,licenseType:a.HS,selectedPaymentPlan:null})),e):{}},[m,o]);return(0,s.Z)((0,r.Z)({},t,v&&{displayIncluded:h||p&&d||F&&!o,displayPrice:d,isDisabled:p},b&&{displayIncluded:p||S&&!o,displayPrice:d,isDisabled:!1}),{creditCostsByLicenseType:P,analyticsLabel:(null==t?void 0:t.license)&&"typeSelected - ".concat(null==t?void 0:t.license,"License")})},b=function(e){var n=e.sizes,t=Object.values(void 0===n?{}:n)||[],i=(0,m.RO)({sizes:t});return(0,d.hQ)(i)},y=function(e){var n=e.subscriptions;return null==n?void 0:n.some(function(e){var n=e.productName;return o.Kg.includes(n)})}},74500:function(e,n,t){t.d(n,{R:function(){return i}});var i="eligibilityErrorNoEligibility"},87646:function(e,n,t){t.d(n,{V:function(){return r}});var i=t(87394),r=function(e){var n=e.eligibility,t=e.licenseTypes,r=(void 0===n?{}:n).licenses,s=(0,i.Z)(t,2),o=s[0],a=s[1];return(void 0===r?[]:r).reduce(function(e,n){var t=n.licenseName;return t===o&&(e.ownsStandardLicense=!0),t===a&&(e.ownsEnhancedLicense=!0),e},{})}},20096:function(e,n,t){t.d(n,{z:function(){return i}});var i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscriptions;return!!(null==e?void 0:e.find(function(e){return e.isEligibleForDownload}))}},34293:function(e,n,t){t.d(n,{i:function(){return i}});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.subscriptions,t=void 0===n?[]:n,i=e.licenseName,r=void 0===i?"":i;return null==t?void 0:t.some(function(e){var n=e.license,t=e.isEligibleForDownload;return n===r&&t})}},97376:function(e,n,t){t.d(n,{V:function(){return i}});var i=function(e){var n=e.licenses,t=e.selectedProductLicenseType,i=void 0===t?{}:t;return(void 0===n?[]:n).some(function(e){return e.licenseName===i.license})}},65229:function(e,n,t){t.d(n,{R:function(){return s}});var i=t(27739),r=t(60591),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.licenses,t=e.licenseType;return t&&(null==n?void 0:n.length)?!!n.some(function(e){return e.licenseName===i.PS})&&t===r.ur||!!n.filter(function(e){return e.licenseName===t}).length:!!(null==n?void 0:n.length)}},58185:function(e,n,t){t.d(n,{r:function(){return s}});var i=t(97376),r=t(97637),s=function(e){var n=e.eligibility,t=void 0===n?{}:n,s=t.licenses,o=void 0===s?[]:s,a=t.subscriptions,u=e.enhancedLicenseType,c=e.selectedProductLicenseType,l=e.selectedPaymentPlan,d=void 0===a?[]:a;if(null==l?void 0:l.isOneTimePurchase)return!0;var m=(0,i.V)({licenses:o,selectedProductLicenseType:c});return(null==c?void 0:c.license)===u&&(d=d.filter(function(e){var n=e.license,t=e.isEligibleForDownload;return n===u&&t})),!(0,r.Y)({eligibility:{licenses:o,subscriptions:d},selectedProductLicenseType:c})&&!m&&!d.length}},97637:function(e,n,t){t.d(n,{Y:function(){return u}});var i=t(87414),r=t(60591),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.subscriptions,t=e.licenseType,i=void 0===t?"":t;return!!(void 0===n?[]:n).filter(function(e){var n=e.isEligibleForDownload,t=e.license;return i===r.HS?t===r.HS&&n:t===r.ur}).length},o=t(65229),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[r.ur,r.HS].includes(e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.eligibility,t=void 0===n?{}:n,r=t.licenses,u=t.subscriptions,c=e.selectedProductLicenseType,l=void 0===c?{}:c,d=e.selectedPaymentPlan;return a(null==l?void 0:l.license)&&!(0,i.XD)({name:null==l?void 0:l.name})&&!(0,i.OG)({product:d})&&!(0,o.R)({licenses:void 0===r?[]:r,licenseType:null==l?void 0:l.license})&&!s({subscriptions:void 0===u?[]:u,licenseType:null==l?void 0:l.license})}},68769:function(e,n,t){t.d(n,{RO:function(){return A},Ch:function(){return B},It:function(){return H},Rc:function(){return _},Ux:function(){return w},kn:function(){return k},oE:function(){return L}});var i,r=t(47842),s=t(70865),o=t(96670),a=t(87394),u=t(50930),c=t(19522),l=t(8149),d=t(65537),m="kilobyte",f="megabyte",v="gigabyte",b="inch",y="centimeter",h=t(65532),p=t(37546),g=t(44297),S=t(2784),F=t(82603),P=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===(e=n.toString().match(/[0-9.,]+/))||void 0===e?void 0:e[0]},z=(i={},(0,r.Z)(i,d.xn,{suffix:"px",widthKey:"width",heightKey:"height"}),(0,r.Z)(i,d.tS,{suffix:"in",widthKey:"widthIn",heightKey:"heightIn"}),(0,r.Z)(i,d.IC,{suffix:"cm",widthKey:"widthCm",heightKey:"heightCm"}),i),w=function(e){var n=(0,h.PE)().fullLocale;return new Intl.NumberFormat(n,e).format},L=function(e){var n=e.unit,t=e.maximumFractionDigits,i=(0,a.Z)((0,S.useState)(""),2),r=i[0],s=i[1],o=(0,h.PE)().fullLocale,u=(0,S.useMemo)(function(){try{return new Intl.NumberFormat(o,{style:"unit",unit:n,maximumFractionDigits:t})}catch(e){return s(e),{format:function(e){return e}}}},[o,t,n]);return(0,S.useMemo)(function(){return{format:u.format,error:r}},[u.format,r])},D=function(e){var n=e.humanReadableSize,t=e.size,i=e.name;return n||"".concat(t.toFixed(1)," ").concat(i)},x=function(e){var n=e.formatter,t=e.humanReadableSize,i=e.size,r=e.name,s=n.error,o=n.format;return s?D({humanReadableSize:t,size:i,name:r}):o(i)},T=function(e){var n=e.bytes,t=e.gbFormatter,i=e.mbFormatter,r=e.kbFormatter,s=e.humanReadableSize,o=n/1e3,a=o/1e3,u=a/1e3;return u>=1?x({formatter:t,humanReadableSize:s,size:u,name:"GB"}):a>=1?x({formatter:i,humanReadableSize:s,size:a,name:"MB"}):x({formatter:r,humanReadableSize:s,size:o,name:"KB"})},Z=function(e,n,t){var i=z[e]||{},r=i.suffix,s=i.widthKey,o=i.heightKey,u=t[e],c=(0,a.Z)([n[s],n[o]].map(function(e){return e&&Number(P(e))}),2),l=c[0],d=c[1],m=!Number.isNaN(l)&&l>0,f=!Number.isNaN(d)&&d>0;return m||f?{formattedWidth:m?x({formatter:u,size:l,name:r}):"",formattedHeight:f?x({formatter:u,size:d,name:r}):""}:{}},E=function(e){var n=e.assetSize,t=e.kbFormatter,i=e.mbFormatter,r=e.gbFormatter,s=n.sizeInBytes,o=n.humanReadableSize,a=n.fileSize;return s||a||o?T({bytes:s||1e3*a,gbFormatter:r,mbFormatter:i,kbFormatter:t,humanReadableSize:o}):""},_=function(e){return E({assetSize:e.assetSize,kbFormatter:L({unit:m,maximumFractionDigits:0}),mbFormatter:L({unit:f,maximumFractionDigits:1}),gbFormatter:L({unit:v,maximumFractionDigits:1})})},C=function(e){var n=e.formattedWidth,t=e.formattedHeight;return"".concat(P(n)," \xd7 ").concat(t)},I=function(e){var n,t=e.assetSize,i=e.displayUnits,s=e.inchFormatter,o=e.centimeterFormatter,a=e.labels,u=void 0===a?{}:a,c=Z(i,t,(n={},(0,r.Z)(n,d.tS,s),(0,r.Z)(n,d.IC,o),(0,r.Z)(n,d.xn,{format:function(e){return u.pixels?"".concat(e," ").concat(u.pixels):"".concat(e," ").concat(z[d.xn].suffix)}}),n)),l=c.formattedWidth,m=c.formattedHeight;return l||m?C({formattedWidth:l,formattedHeight:m}):""},N=function(e){return I(e)||I((0,o.Z)((0,s.Z)({},e),{displayUnits:d.xn}))},M=function(e){var n=e.displayUnits,t=e.assetSize,i=e.inchFormatter,r=e.centimeterFormatter,s=e.labels;return n===d.xn?N({assetSize:t,displayUnits:d.tS,inchFormatter:i,centimeterFormatter:r,labels:s}):N({assetSize:t,displayUnits:n,inchFormatter:i,centimeterFormatter:r,labels:s})},H=function(e){var n=e.isImageAsset,t=e.assetSize,i=e.labels,s=(0,F.n)(),o=L({unit:b,maximumFractionDigits:0}),a=L({unit:y,maximumFractionDigits:0}),u=N({assetSize:t,displayUnits:d.xn,inchFormatter:o,centimeterFormatter:a,labels:i}),c=(0,r.Z)({},d.xn,u);return n&&(c.formattedDimensions=M({assetSize:t,labels:i,displayUnits:s,inchFormatter:o,centimeterFormatter:a})),c},k=function(){var e=(0,F.n)(),n=L({unit:m,maximumFractionDigits:0}),t=L({unit:f,maximumFractionDigits:1}),i=L({unit:v,maximumFractionDigits:1}),r=L({unit:b,maximumFractionDigits:0}),s=L({unit:y,maximumFractionDigits:0});return(0,S.useCallback)(function(o){var a=o.assetSize,u=E({assetSize:a,kbFormatter:n,mbFormatter:t,gbFormatter:i}),c=N({assetSize:a,displayUnits:e,inchFormatter:r,centimeterFormatter:s});return u?{resolutionDetails:c,size:u}:{resolutionDetails:c}},[s,e,r,i,t,n])},R=function(e){var n,t=e.assetSize,i=e.centimeterFormatter,r=e.displayUnits,s=e.inchFormatter,o=e.isImageAsset,a=e.labels,c=e.isVideoAsset,m=e.isDesignAsset,f=t.format,v=t.dpi,b=t.name,y=t.resolution,h=(null==f?void 0:f.toUpperCase())||"";if(b===l.gf)return h;var p=N({assetSize:t,PIXELS:d.xn,inchFormatter:s,centimeterFormatter:i,labels:a});return n=(o||m)&&v?[p,M({assetSize:t,labels:a,displayUnits:r,inchFormatter:s,centimeterFormatter:i}),"".concat(a.dpi," ").concat(v),h]:c?[a[null==y?void 0:y.toLowerCase()]||"",p,h]:[p,h],(0,u.Z)(new Set(n)).filter(function(e){return!!e}).join(" • ")},A=function(e){var n=e.sizes;return(void 0===n?[]:n).filter(function(e){return e.format!==c.LX})},O=function(e){var n=e.limit,t=void 0===n?0:n,i=e.sortedSizes;return t>0?null==i?void 0:i.slice(0,t):i},B=function(){var e=(0,F.n)(),n=L({unit:b,maximumFractionDigits:1}),t=L({unit:y,maximumFractionDigits:1});return(0,S.useCallback)(function(i){var r=i.asset,s=i.labels,o=i.limit,a=(0,g.aT)(r),u=(0,g.Am)(r),c=(0,g.ML)(r),l=a||c?A({sizes:Object.values(r.sizes||{})}):r.sizes,d=O({limit:void 0===o?0:o,sortedSizes:a||c?(0,p.hQ)(Object.values(l)):(0,p.Z)({sizes:l})});return{formattedSizes:null==d?void 0:d.map(function(i){return R({assetSize:i,centimeterFormatter:t,displayUnits:e,inchFormatter:n,isImageAsset:a,isDesignAsset:c,labels:s,isVideoAsset:u})})}},[e,t,n])}}}]);
//# sourceMappingURL=39920-bacd7e7f1c685fc9.js.map